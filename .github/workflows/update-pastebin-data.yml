name: Update Pastebin Data

on:
  schedule:
    - cron: '*/10 * * * *' # Ejecuta cada 10 minutos

jobs:
  update-data:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repo
      uses: actions/checkout@v2
      
    - name: Download Pastebin data
      run: |
        mkdir -p data
        curl https://pastebin.com/raw/2VRaccd2 > data/pastebin-data.json
        
    - name: Commit and push if changed
  run: |
    git config --global user.email "action@github.com"
    git config --global user.name "GitHub Action"
    git add data/pastebin-data.json
    git diff --staged --quiet || (git commit -m "Update Pastebin data" && git push)

